<span *ngIf="label" class="mb-3 text-[14px] leading-[120%] tracking-[0.01em]">{{ label }} <span class="text-error" *ngIf="isRequired">*</span></span>
<div *ngIf="label" class="mb-2"></div>
<div class="relative flex flex-col">
  <div
    class="relative flex w-full cursor-pointer items-center justify-between border bg-[#fff] px-4 border-black-1 rounded-[10px] h-[40px] gap-[10px]"
    [class]="customClass"
    (click)="openMatSelect(selectElem)"
    [class.!disabled]="isDisabled"
    [class.!cursor-not-allowed]="isDisabled"
    [class.!border-error]="control?.errors && control?.touched"
    [class.!bg-[#EEEEEE]]="isDisabled"
  >
    <div class="text-[14px] leading-[24px] font-[400] line-clamp-1" [class]="selectElem?.value?.code ? 'text-black-normal' : 'text-[#C6C6C8]'">
      <div [style.color]="selectElem?.value?.['color']">
        <ng-container *ngIf="selectElem?.value?.['icon']">
          <img [src]="selectElem?.value?.['icon']" alt="" />
        </ng-container>
        {{ selectElem?.value?.code ? selectElem?.value?.label : placeHolder || null }}
      </div>
    </div>
    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M4.5 6L8.5 10L12.5 6" stroke="#1F1F1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
  </div>
  <mat-select
    #selectElem
    (closed)="searchInput.value = null; closeMatSelect()"
    (opened)="searchInput.focus()"
    (valueChange)="selectItem($event)"
    [value]="value"
    class="dropdown-position !w-full absolute top-[25px] left-0 right-0 bottom-0"
    disableOptionCentering
    [panelClass]="'!shadow-ml !overflow-hidden !rounded-[16px]'"
  >
    <input
      #searchInput
      (input)="filterSearch($event)"
      [ngClass]="{ '!hidden': !hasSearch }"
      placeholder="Search..."
      type="text"
      class="w-[calc(100%-16px)] ml-[8px] !outline-none text-[14px] leading-[24px] !shadow-m border border-border-color rounded-[8px] focus:border-primary-color"
      style="padding-inline: 16px !important; height: 40px; border-bottom: 1px solid #fafafa !important"
    />
    <div class="overflow-y-auto h-[calc(100%-46px)]">
      <mat-option *ngFor="let item of allItems | filterDropdown: filter" class="mat-option-custom" [value]="item">
        <div [style.color]="item?.color">
          <ng-container *ngIf="item?.icon">
            <img [src]="item?.icon" />
          </ng-container>
          {{ item.label }}
        </div>
      </mat-option>
    </div>
  </mat-select>
</div>
<div class="w-full">
  <ng-content></ng-content>
</div>
